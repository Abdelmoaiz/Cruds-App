let tmp,myData,x,title=document.querySelector("#title"),price=document.querySelector("#price"),taxes=document.querySelector("#taxes"),Ads=document.querySelector("#Ads"),discount=document.querySelector("#discount"),total=document.querySelector("#total"),count=document.querySelector("#count"),category=document.querySelector("#category"),create=document.querySelector("#create"),deleteAll=document.querySelector(".deleteAll"),mood="create";function getTotal(){if(""!=price.value){let t=+price.value+ +taxes.value+ +Ads.value-+discount.value;total.innerHTML=t,total.style.backgroundColor="#040"}else total.innerHTML="",total.style.backgroundColor="#08d"}function createData(){if(""!=title.value)if(product={title:title.value.toLowerCase(),price:price.value,taxes:taxes.value,Ads:Ads.value,discount:discount.value,total:total.innerHTML,count:count.value,category:category.value},"create"===mood)if(product.count>1)for(let t=0;t<product.count;t++)myData.push(product);else myData.push(product);else myData[tmp]=product;localStorage.setItem("data",`${JSON.stringify(myData)}`),showData(),createDeletAll(),clearInput(),refresh()}function update(t){title.value=myData[t].title,price.value=myData[t].price,taxes.value=myData[t].taxes,Ads.value=myData[t].Ads,discount.value=myData[t].discount,category.value=myData[t].category,count.style.display="none",create.innerHTML="update",getTotal(),mood="update",tmp=t,scroll({top:0,behavior:"smooth"})}function clearInput(){title.value=price.value=taxes.value=Ads.value=discount.value=total.innerHTML=category.value=""}myData=null!=localStorage.data?JSON.parse(localStorage.data):[];let table="";function showData(){for(let t=0;t<myData.length;t++)table+=`\n        <tr>\n            <td>${t+1}</td>\n            <td>${myData[t].title}</td>\n            <td>${myData[t].price}</td>\n            <td>${myData[t].taxes}</td>\n            <td>${myData[t].Ads}</td>\n            <td>${myData[t].discount}</td>\n            <td>${myData[t].total}</td>\n            <td>${myData[t].category}</td>\n            <td><button id='update' onclick="update(${t});">update</button></td>\n            <td><button id='deleteData' onclick="deleteData(${t})";>delete</button></td>\n        </tr>\n    `;document.querySelector(".tbody").innerHTML=table}function deleteData(t){myData.splice(t,1),localStorage.data=JSON.stringify(myData),refresh()}function createDeletAll(){let t=document.createElement("button");t.innerHTML=`Delete All (${myData.length})`,t.setAttribute("onclick","deleteAl();"),deleteAll.append(t)}function deleteAl(){localStorage.removeItem("data"),refresh()}function refresh(){window.location.reload()}showData(),null!=myData.length&&0!=myData.length&&createDeletAll();let searchInput=document.querySelector("#searchInput"),searchMood="title";function getSearchMood(t){"title"===t?(searchMood="title",searchInput.placeholder="search by title"):(searchMood="category",searchInput.placeholder="search by category"),searchInput.focus()}function search(t){let e="";if("title"==searchMood)for(let a=0;a<myData.length;a++)myData[a].title.includes(t.toLowerCase())&&(e+=`\n                    <tr>\n                        <td>${a+1}</td>\n                        <td>${myData[a].title}</td>\n                        <td>${myData[a].price}</td>\n                        <td>${myData[a].taxes}</td>\n                        <td>${myData[a].Ads}</td>\n                        <td>${myData[a].discount}</td>\n                        <td>${myData[a].total}</td>\n                        <td>${myData[a].category}</td>\n                        <td><button id='update' onclick="update(${a});">update</button></td>\n                        <td><button id='deleteData' onclick="deleteData(${a})";>delete</button></td>\n                    </tr>\n                `);else for(let a=0;a<myData.length;a++)myData[a].category.includes(t.toLowerCase())&&(e+=`\n                    <tr>\n                        <td>${a+1}</td>\n                        <td>${myData[a].title}</td>\n                        <td>${myData[a].price}</td>\n                        <td>${myData[a].taxes}</td>\n                        <td>${myData[a].Ads}</td>\n                        <td>${myData[a].discount}</td>\n                        <td>${myData[a].total}</td>\n                        <td>${myData[a].category}</td>\n                        <td><button id='update' onclick="update(${a});">update</button></td>\n                        <td><button id='deleteData' onclick="deleteData(${a})";>delete</button></td>\n                    </tr>\n                `);document.querySelector(".tbody").innerHTML=e}